const fs = require("fs");
const compareDatasets = (data1, data2) => {
    // Convert multi-line strings into arrays and remove duplicates
    const set1 = new Set(data1.trim().split("\n").map(user => user.trim()));
    const set2 = new Set(data2.trim().split("\n").map(user => user.trim()));
  
    // ✅ Find items from dataset1 that exist in dataset2
    const itemsInBoth = [...set1].filter(x => set2.has(x));
  
    // ✅ Find items in dataset1 that are NOT in dataset2
    const onlyInSet1 = [...set1].filter(x => !set2.has(x));
  
    // ✅ Find items in dataset2 that are NOT in dataset1
    const onlyInSet2 = [...set2].filter(x => !set1.has(x));
  
    return {
      commonItems: itemsInBoth,
      onlyInDataset1: onlyInSet1,
      onlyInDataset2: onlyInSet2,
    };
  };

// Example datasets (multi-line string format)
const dataset1 = `
worajai_
my.vanilla_
apisit_.02
xyj_pslp
____ubj
djtelex
homu.ytt
nn.xkos
noshu_xx
n_ppxng
nn.xkos
noshu_xx
n_ppxng
f.flashh
earnarisss
a7a2c3.me
cozoxop
asiaapkh
pv.dubble_f
bamyoubi
g.guillll
areeya_mi1d
men_nsr
ice_chakhrit
novityuu
forgetmainot
touchpolll
yorenorr
big.rongrit
nattaryy
_thaninja_
1sh.first
ce_faii
bbvights
knot_88
tt_tww
ice_ivis
mmma_mj
axdy_rp
bbabygirl_n
big.rongrit
nattaryy
ammy_ttpn
_.nicezii._
jrp_maew
jxxuser
ttxn.pn
dreammirrr
narqwit
ka_aniwat
touchpolll
ce_faii
cozoxop
ttxn.pn
big.rongrit
khunlanii
nattaryy
_chawanvit
ammy_ttpn
_.nicezii._
khunlanii
phxwiu
n__new9991
_z.supxawitxx
ce_faii
phammerx
pondkubon
namfah.ys
frame.cwt
psecretz
ka_aniwat
cxngee
mxmz_px
p.praow
_pryknz_
j_xwixrps222
preemzone
nut.nts
_siriiiiiiiiiiiiiiiiiiiiiiiiii
phxwiu
fyewsn
_.p.kc._
ce0hana
beer.anr_
guide_ng
sn_krmx
moji0b
_chawanvit
parin.char
punyaaaah_
_.p.kc._
ce0hana
ce_faii
guide_ng
sn_krmx
baamiiz
yorenorr
pitchpamsh
fernfibi
coreacake
phraeploy___
k.gampon
levymai.z
justcotton__
fogusgoodguy__
dplk.pp
boom.pxm
prae_piyathida
pearrr.k
s.chonlachart
ice_chakhrit
ce_faii
fernfibi
babie_hamu
tumtumnn
cutochan.14
p_ploy.pp
buaaa_a11
prpzl__
_ckxpr_
ps_poom
prmtnc_x
meiyuan2024
snickerdoodle.jellybean
baamiiz
_onlyfoam
put.daa
opal._.wrkm
_aloomaoom
peatyeager
filmsrw
pxeem._
pattaratida_me
thaim_thaimmita
crispyrubyy
r.eej__
wrpteammmmmmmmmmmmmmmmmm
holaitsdai
as_byr
thawanverse
imsobusyo
tianspcy
t.20.05.2545
ice.pntt
p.ppppear
nunalena.jpg
joe_soi5
ppw_praewa
awm_nin
_riverzen
ice.pntt
p.ppppear
joe_soi5
awm_nin
l._.prin._.l
_riverzen
disishme
bamby_tsn
mmeww.d
evee.wm
phraeploy___
takrin____
levymai.z
pondptr_x
fogusgoodguy__
pearrr.k
s.chonlachart
sesavvy
memieps
mhxxw
pmarkkp
l._.prin._.l
mos.ktt
t.ttn___
nixe.spk
ssorra_chat
yorenorr
saranjew
justcotton__
pv.eveeeeee
babybearkwann_
boom.pxm
nair_m45
ninetechawag
minejetaime
020.620
vrn.n__
pv.eveeeeee
thanpeaxh
howwwweiei
iamevevy
krtterr
cyanoxice
tsthanik_
_unnabelle
april8ez
maemaechandesu
n_neua_
fh.oao
sourtxey_
torchz_
ct.top_
panotsodsri
spyyeh
mamsz_jtn
p.baishuix
bbrxpxr_
justcotton__
cuzmeso__
kkan_ug
pp_porod
tangxsw
boom.pxm
nali._.muay
krtterr
april8ez
maemaechandesu
fh.oao
sourtxey_
pv.eveeeeee
torchz_
ct.top_
panotsodsri
w_chutipon
spyyeh
mamsz_jtn
p.baishuix
cuzmeso__
kkan_ug
boom.pxm
pattanann.p
nnpppcy1
fonpvsk
noom_io_
s_laveped
siri_sir_
im.sitaa
nair_m45
_maychii
_naprn_
anakin_kub
thxnx_f
medn.pis
mos.ktt
pongtanaaa
t.ttn___
nixe.spk
ssorra_chat
saranjew
baamiiz
tangohmkrube
fxnpgt
bamhrs
hy2ox
bbongtvc
nutrin_q
_jettt7_
pongtanaaa
onyourw__aa
skg.kk
bungcomeback
uthpear
kongggxxv
thanpeaxh
teemuseum_
b.bktt
c4ance.r
tangohmkrube
fxnpgt
bamhrs
bbongtvc
mheepp_
_unnabelle
p.praow
nutrin_q
onyourw__aa
m.nichananz
skg.kk
cep5.777
namoun.n
chen_hoon040
nicharchive__
ppw_praewa
gguy.ktp_
puwit_rtnp
_charoemchon_
ck.gxt_
_marchapon_
wrpteammmmmmmmmmmmmmmmmm
jumper__r
_prapa_w
pv.fahsaihuajaisiduang
chxnchxi
chen_hoon040
nicharchive__
gguy.ktp_
_charoemchon_
ck.gxt_
_marchapon_
wrpteammmmmmmmmmmmmmmmmm
jjayjjjayy
mysiayaa
q_tsw
75_bombomb
purachai.z
gade.xd
itspoonn
jsnning.b
i.gamee
gatedeyy_
bestpan_
ko_ng.gg
mynameisveranoeii
__mxdxxm
anakin_kub
fhaptn
chanwut_machu._
nnonoatt
p_ongsi_n
nnontnpw
chanwut16
ttw_bp
chmwill
ncndp
w_chutipon
nonyanhua
oom_nitcha
skxii.ig
biitongiese
a.lennyyyy
kkkthecreator
chanax_ball
augustsunday__
6.19jun
liverpoolfc
earthxptp
knightt.tt
trr.yr
memieps
boom.tnk
nonyanhua
gotji_jee
nongbesteuei
greatpatchar
ggift.kzl
tnn_k_
jsnning.b
ppkornn
popriin
ccutey
q.ffxng
real.kamu.here
paiieuei
n_thai_
oom_nitcha
mark_phannatus
joe_blabladook
forsaken_nf
skxii.ig
tutastation
gatedeyy_
pp_porod
0nlyinitsme
tangxsw
poylyx
nali._.muay
japan_ptk
cd.wrm
krtterr
anakin_kub
kat_kyn
farfaye_
pitch_ss
daithun_
pcypyd
jc_nnil
pp_porod
tangxsw
ppakkaboy003
nali._.muay
ch4tn
k.gampon
nattaryy
pearrr.k
nonyanhua
minejetaime
swkskk05
wongsakorn_st
daithun_
gatedeyy_
bbeayou_
ttnk7
mix_sunantha
fh.oao
phatthara.r
sourtxey_
_izezy_
vwiewy
jxsrc
teamtnd_
yw_wavebrewboy
plengpswii
thiti_mekkamol
woonnpm
phalad.game
chwchy.fay
porekung
nty_narue
prd_sr4k
zaza_c007
ccutey
zgame.tt
popchan_
sirikanyajahhh
_f_rame
bestpan_
donuttyciall
ko_ng.gg
srd_np
samita_zz
__mxdxxm
mxrkixz
mxnich
srd_np
fhaptn
chanwut_machu._
nnonoatt
iamevevy
p_ongsi_n
nnontnpw
kkkthecreator
ppalmmywi
augustsunday__
6.19jun
allnuzz
tuyttoey
liverpoolfc
earthxptp
srd_np
knightt.tt
tuyttoey
ttnk7
liverpoolfc
earthxptp
knightt.tt
trr.yr
ddeedt.dd
giffnpch
neen.suphits
ppalmmywi
ttine.p
_eelaw_
llab_ball_z
z.sence
srd_np
hellosaturdae
beingwithalyssamademefeelthing
mix_sunantha
somrithai_tuu
j.m
beingwithalyssamademefeelthing
somrithai_tuu
mook_wpvn
j.m
bambrownn
sipat.tx
p.tnv_
ssse.ennn
w.ker_woo
teaytonlek_
thethanyaa
ceejaypair
  `;

const dataset2 = `
worajai_
top_zcr3t
my.vanilla_
apisit_.02
____ubj
noshu_xx
s_ptang
galalaceee
_lurnut_
_z.supxawitxx
wawinkky
jxsrc
filmsrw
xyj_pslp
prmtnc_x
ttw_bp
farfaye_
t.tang.skxxn
gatedeyy_
s.chonlachart
guide_ng
_.nicezii._
bntp__
mook__smt
chichalin.je
kongggxxv
awm_nin
teamtnd_
frame.cwt
sakkarinnnn
_.tiwter._
fyewsn
noom_io_
rrmxtt.e
_jettt7_
yorenorr
j_xwixrps222
n_ppxng
fxnpgt
siri_sir_
kkan_ug
pxeem._
_chawanvit
suwijk.r
g.guillll
trr.yr
knightt.tt
ppsterr_
chanwut16
mos.ktt
_.nicezii._
dreammirrr
nut.nts
narqwit
ka_aniwat
cxngee
ce_faii
j_xwixrps222
_pryknz_
mxmz_px
prmtnc_x
_siriiiiiiiiiiiiiiiiiiiiiiiiii
preemzone
phxwiu
_.chirotch._
_z.supxawitxx
phammerx
pondkubon
namfah.ys
frame.cwt
psecretz
n__new9991
cherry_beqye
_.p.kc._
ce0hana
guide_ng
sn_krmx
jjaanne.e
moji0b
parin.char
punyaaaah_
max_jinapanya
ps_poom
meiyuan2024
snickerdoodle.jellybean
peatyeager
_onlyfoam
put.daa
_aloomaoom
coreacake
bntp__
takrin____
buaaa_a11
beer.anr_
prpzl__
zstreet27
arm.nve
queennayeh
nnxcha_
nunalena.jpg
prmtnc_x
psecretz
scp_rxn
1sh.first
meiyuan2024
_eurrrk
k.gampon
june.fortunately
_onlyfoam
put.daa
the.pun_
pkz_tt
_aloomaoom
moji0b
takrin____
punyaaaah_
bntp__
snickerdoodle.jellybean
parin.char
tumtumnn
l._.prin._.l
p_ploy.pp
ce0hana
_.p.kc._
prpzl__
queennayeh
oyaoyyyy
arm.nve
zstreet27
khunlanii
peaknatakorn
thenannice
tanabodee_poom
tjkqqqqqqqqqqqqqqqqqqqqq
max_nattaphong
prae_piyathida
buaaa_a11
imsobusyo
tianspcy
cutochan.14
peatyeager
t.20.05.2545
te_win.f
kcp.an
fyewsn
p.ppppear
awm_nin
toffywsn
mmeww.d
evee.wm
imsobusyo
stnskkkkkkkkkk
fogusgoodguy__
awm_nin
t.20.05.2545
p.ppppear
joe_soi5
_riverzen
kongsatur
disishme
bamby_tsn
ice.pntt
im.sitaa
mmeww.d
nair_m45
bxmwxng
rukwarachi
phraeploy___
evee.wm
___ppopeye
puwit_rtnp
levymai.z
pondptr_x
pearrr.k
athich.kn
s.chonlachart
sesavvy
pmarkkp
mhxxw
minejetaime
_.tiwter._
fernfibi
thisispimda_k
520._kk
filmsrw
babybearkwann_
020.620
nunalena.jpg
pongtanaaa
nnpppcy1
vrn.n__
r.eej__
howwwweiei
pondnaratip
pxeem._
pattaratida_me
memieps
thaim_thaimmita
crispyrubyy
galalaceee
75_bombomb
gade.xd
mysiayaa
itspoonn
nrae.e
poonpoon1414
tylxrpure
wawinkky
pe_av
aphicha7
im.sitaa
boom.pxm
buakdp
baamiiz
passsssol
reemisnotinthemood
zaelaeik
rattanaqorn
dplk.pp
mmathp
ch4tn
chanwut16
ncndp
nonyanhua
gotji_jee
ttw_bp
kongggxxv
nongbesteuei
greatpatchar
ggift.kzl
pv.eveeeeee
ppkornn
popriin
weeqq.s
bettybotterr
ssasinww
0pliow_ntps
ice._ktp
chmwill
w_chutipon
q.ffxng
real.kamu.here
paiieuei
chompoo_crazy
jxsrc
ntppg_ct
_jettt7_
pongtanaaa
ppearp.p
farfaye_
s_laveped
nair_m45
kaniskisskai
w_chutipon
ch_lid_
afterained
rrmxtt.e
mocha.zzzz
chxx_kn
mheepp_
chichalin.je
looktarn.ii
p_dawww
bungcomeback
t.tang.skxxn
b.bktt
0pliow_ntps
mm_jeera
purachilx
uthpear
thanpeaxh
c4ance.r
0nlyinitsme
_unnabelle
tangohmkrube
fxnpgt
hy2ox
bamhrs
bbongtvc
nutrin_q
onyourw__aa
ice._ktp
suwijk.r
skg.kk
a.lennyyyy
cep5.777
_b3a3n3k_
stnskkkkkkkkkk
namoun.n
joe_blabladook
_prapa_w
pv.fahsaihuajaisiduang
chxnchxi
chen_hoon040
nicharchive__
gguy.ktp_
jsnning.b
_charoemchon_
ck.gxt_
_marchapon_
mysiayaa
q_tsw
w.aritsara
tylxrpure
75_bombomb
palangpond
purachai.z
gade.xd
itspoonn
i.gamee
poonpoon1414
wawinkky
pe_av
aphicha7
afternoonn__
0nlyinitsme
pickkung__
buakdp
poylyx
zaelaeik
oom_nitcha
leejenonny
passsssol
nrae.e
reemisnotinthemood
rattanaqorn
mmathp
n_thai_
chmwill
sunratha_
iamevevy
skxii.ig
ch4tn
anakin_kub
magun.wst
chanwut16
ncndp
nonyanhua
w_chutipon
gotji_jee
joe_blabladook
heyy_ime
tutastation
ttw_bp
a.lennyyyy
nongbesteuei
greatpatchar
smildkk
tnn_k_
ggift.kzl
prae.ww
neen.suphits
trr.yr
ttine.p
knightt.tt
llab_ball_z
hellosaturdae
somrithai_tuu
beingwithalyssamademefeelthing
bambrownn
sipat.tx
ssse.ennn
w.ker_woo
p.tnv_
j.m
teaytonlek_
wongsakorn_st
thethanyaa
_____ch4krit
s_ptang
_nntnb
__mxdxxm
levymai.z
bettybotterr
ck.gxt_
narqwit
april8ez
c4ance.r
onyourw__aa
rukwarachi
tutastation
xxiulann
1sh.first
novityuu
b.boommii
vrn.n__
iicedbear
miniipunnn
mysiayaa
baifern1608
pitch_ss
mook_wpvn
aa_ishayar
_b3a3n3k_
heyy_ime
babybearkwann_
memieps
gingsuphat
bimgrayray
0nlyinitsme
kimampcotton
ce0hana
mxmz_px
babie_hamu
_riverzen
jaytpk
key.wrp
_.p.kc._
tle.turtle_
chxx_kn
0nlyinitsme
ccutey
te_win.f
teemuseum_
ntph.natthaphong
r.xpsu
i.gamee
ppntspp_
jesslkn
mook_wpvn
xxiulann
ppalxzpp
pp_porod
kongsatur
n__new9991
shirxya
ice_ivis
_stnbspx
bimgrayray
joe_blabladook
athich.kn
t.ttn___
psecretz
_bestktp
iceeyaaa__
apisit_.02
fluke_pawarit
meiyuan2024
jn.jtzone
purachai.z
smildkk
disishme
pondnaratip
wongsakorn_st
s_ptang
liverpoolfc
j.m
earnarisss
pickkung__
srd_np
giffnpch
neen.suphits
bimgrayray
ttine.p
_eelaw_
wongsakorn_st
beingwithalyssamademefeelthing
llab_ball_z
s_ptang
d.dome_tb
thxneuei
hellosaturdae
somrithai_tuu
best_np_
bambrownn
kat_kyn
sipat.tx
b.boommii
teaytonlek_
mook_wpvn
j.m
ssse.ennn
w.ker_woo
thethanyaa
ceejaypair
  `;

const result = compareDatasets(dataset1, dataset2);

console.log("✅ Common items in both datasets:", result.commonItems);
console.log("❌ Items only in Dataset 1:", result.onlyInDataset1);
console.log("❌ Items only in Dataset 2:", result.onlyInDataset2);

const saveToFile = (filename, data) => {
    fs.writeFileSync(filename, data, "utf8");
    console.log(`✅ Data saved to file: ${filename}`);
  };
  
  // Prepare the full output
  const output = `
  ✅ Common items in both datasets:\n${result.commonItems.join("\n")}
  \n❌ Items only in Dataset 1:\n${result.onlyInDataset1.join("\n")}
  \n❌ Items only in Dataset 2:\n${result.onlyInDataset2.join("\n")}
  `;
  
  // Save as a text file
  saveToFile("comparison_results.txt", output);  